@startuml

class University
{
  -Static int numberOfInstances
  - int universityId
  -ArrayList<Campus> campuses
  -ArrayList<User> students
}

class User{
  -Static int numberOfInstances
  -int userId
  ..personal info of user..
  -String name
  -Room room
  -String biography
  -String email
  -String password
  -Image profilePicture
  -enum Major
  
  ..relations with other users and content..
  -ArrayList<User> friends
  -ArrayList<ForumPost> liked
  -ArrayList<EventPost> followedEvents
  -ArrayList<FriendRequest> pendingIncomingRequests
  -ArrayList<FriendRequest> pendingRequests
  -ArrayList<Post> postsOwned
  
  
  ..adders and removers for above..
  ..6 arraylists..
  
  
}

class Campus
{
  -Static int numberOfInstances
  -int campusId
  -String name
  -Arraylist<Dormitory> dormitories
  -Arraylist<Cafeteria> cafeterias
}

interface Reviewable
{
  + addReview()
}

package location{
  
  abstract class Location implements .Reviewable
  {
    - Static int numberOfInstances
    - int locationId
    - ArrayList<Review> reviews
    - Image image
    - String name
    - String description
    - double rating    
    - Campus campus
    + void addReview(Review r)
    + void removeReview(Review r)
  }
  
  package cafeteria
  {
    class Cafeteria extends location.Location
    {
      - double minPrice
      - double maxPrice
      - ArrayList<MenuItem> items
    }
    
    class MenuItem
    {
      -Static int numberOfInstances
      - int menuItemId
      - String name
      - double price
      - Image image
    }
  }
  
  class Dormitory extends Location
  {
    -Room[] rooms
  }
  
  class Room
  {
    -Static int numberOfInstances
    -final int capacity
    -final Dormitory dorm
    -int roomId
    -int availableBed
    -boolean isBunked
    -boolean privateBathroom
  }
  
}

class FriendRequest
{
  -Static int numberOfInstances
  - int friendRequestId
  - User sender
  - User receiver
  + void acceptRequest()
  + void rejectRequest()
}


package userContent
{
  abstract class UserContentItem 
  {
    -Static int numberOfInstances
    - final Date creationDate
    - int userContentItemId
    - String mainText
    - Date lastEditDate
    ** Java Date Class **
    - final User owner
    __
    + void edit(String newText)
    use setDate() internally to 
    show last edit date
    + void delete()
  }
  
  package post
  {

    abstract class Post extends userContent.UserContentItem
    {
      - String heading
      - ArrayList<File> attachments
      __
      @Overload
      + void edit(String heading,
      String description)
      
    }
    
    class ForumPost extends Post
    {
      - int likeCount
      - ArrayList<Tag> tags
      - ArrayList<Reply> replies
      - ArrayList<User> likedBy
      + void addReply(Reply r)
      + void removeReply(Reply r)
      + void likeBy(User user)
      + void removeLike(User user)
    }
    class DormTransferPost extends Post
    {
      - Room room
    }
    
    class EventPost extends Post
    {
      - String location
      - Date eventDate
      - String importantInfo
      - ArrayList<User> followers
      
      + void addFollower(User u)
      + void removeFollower(User u)
      + void notifyFollowers()
    }
    
    class Tag
    {
      -Static int numberOfInstances
      - int tagId
      -String tag
      
    }
    
  }
  
  class Message extends UserContentItem
  {
    - User receiver
  }
  
  class Review extends UserContentItem
  {
    - Reviewable r
    - double rateGiven
    + void edit(String newText, double newRating)
  }
  
  class Reply extends UserContentItem
  {
    - Post previous
    
  }
}

University *-- Campus
University *-- User
Campus *-- Cafeteria
Campus *-- Dormitory
Cafeteria *-- MenuItem
FriendRequest *-- User
ForumPost *-- Reply
Location o-- Review
Dormitory *-- Room
User *-- Post
ForumPost *--Tag



@enduml