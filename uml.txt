@startuml

class University
{
  -ArrayList<Campus> campuses
  -ArrayList<User> students
}

class Campus
{
  -Arraylist<Dormitories> dormitories
  -Arraylist<Cafeteria> cafeterias
}

  class User{
    ..personal info of user..
    -String name
    -Room room
    -String biography
    -String email
    -String password
    -Image profilePicture
    -Major
    
    ..relations with other users and content..
    -ArrayList<User> friends
    -ArrayList<Post> liked
    -ArrayList<EventPost> followedEvents
    -ArrayList<friendRequest> pendingIncomingRequests
    -ArrayList<friendRequest> pendingRequests
    
    
    +void post(Post p)
    +ArrayList<User> getFriends()
    +void unFriendWith(User f)
    +void friendRequestTo(User f)
    +void display()
    +boolean isValidLogin(String email, String pass)
  }

interface Reviewable
{
  + addReview()
  - ArrayList<Review> reviews
}

package location{
  
  abstract class Location implements .Reviewable
  {
    - String name
    - String description
    - double rating
  }
  
  package cafeteria
  {
    class Cafeteria extends location.Location
    {
      - priceRange
      - ArrayList<MenuItem> items
      - void addItem(MenuItem item)
      - void removeItem(MenuItem item)
    }
    
    class MenuItem
    {
      - String name
      - double price
    }
  }
  
  class Dormitory extends Location
  {
  
    -Room[] rooms
    -Campus campus
  }
  
  class Room
  {
    -final int roomNo
    -final int capacity
    -int availableBed
    -boolean isBunked
    -boolean privateBathroom
    -final Dormitory dorm
  }
  
}

class FriendRequest
{
  - User sender
  - User receiver
}


package userContent
{
  abstract class UserContentItem 
  {
    - String description
    - final Date date 
    ** Java Date Class **
    - final User owner
    __
    + void edit(String description)
    use setDate() internally to 
    show last edit date
  }
  
  package post
  {

    abstract class Post extends userContent.UserContentItem
    {
      - String heading
      - ArrayList<Reply> replies
      - ArrayList<File> attachments
      __
      @Overload
      + void edit(String heading,
      String Description)
      + void likeBy(User user)
    }
    
    class ForumPost extends Post
    {
      - int likeCount
      - ArrayList<Tag> tags
      - ArrayList<Reply> replies
      + void addReply()
    }
    class DormTransferPost extends Post
    {
      - Room room
    }
    
    class EventPost extends Post
    {
      - String location
      - Date eventDate
      - String importantInfo
      
      + void follow()
    }
    
    class Tag
    {
      -String tag
      
    }
    
  }
  
  class Message extends UserContentItem
  {
    - User receiver
  }
  
  class Review extends UserContentItem
  {
    - Reviewable r
  }
  
  class Reply extends UserContentItem
  {
    - Post previous
    
  }
}

University *-- Campus
University *-- User
Campus *-- Location
Cafeteria *-- MenuItem
FriendRequest *-- User
Post *-- Reply
Reviewable *-- Review
Dormitory *-- Room



@enduml
